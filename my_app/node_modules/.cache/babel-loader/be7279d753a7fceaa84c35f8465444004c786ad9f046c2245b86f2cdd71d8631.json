{"ast":null,"code":"var _jsxFileName = \"D:\\\\Intern\\\\my_app\\\\src\\\\pageManagement\\\\DynamicTable.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Button from './DynamicButton';\nimport { hasPermission } from './utils/hasPermission';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function DynamicTable({\n  items,\n  fields,\n  onUpdate,\n  onDelete,\n  permissionKeys\n}) {\n  _s();\n  const [editId, setEditId] = useState(null);\n  const [form, setForm] = useState({});\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 5;\n  const totalPages = Math.ceil(items.length / itemsPerPage);\n  const paginatedItems = items.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\n  const handleChangePage = direction => {\n    if (direction === 'prev' && currentPage > 1) setCurrentPage(currentPage - 1);else if (direction === 'next' && currentPage < totalPages) setCurrentPage(currentPage + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1\",\n      cellPadding: \"8\",\n      style: {\n        width: '100%',\n        borderCollapse: 'collapse'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        style: {\n          background: '#000',\n          color: '#fff'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [fields.map(f => /*#__PURE__*/_jsxDEV(\"th\", {\n            children: f.label\n          }, f.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 23,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: paginatedItems.map((item, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            background: idx % 2 === 0 ? '#f9f9f9' : '#e0e0e0',\n            height: '50px'\n          },\n          children: [fields.map(f => {\n            var _form$f$name;\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              children: editId === item.id ? /*#__PURE__*/_jsxDEV(\"input\", {\n                type: f.type,\n                value: (_form$f$name = form[f.name]) !== null && _form$f$name !== void 0 ? _form$f$name : item[f.name],\n                onChange: e => setForm({\n                  ...form,\n                  [f.name]: e.target.value\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 21\n              }, this) : item[f.name]\n            }, f.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 17\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: editId === item.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                color: \"green\",\n                onClick: () => {\n                  onUpdate(item.id, form);\n                  setEditId(null);\n                },\n                children: \"Save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 21\n              }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n                color: \"gray\",\n                onClick: () => setEditId(null),\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                color: \"blue\",\n                onClick: () => {\n                  setEditId(item.id);\n                  setForm(item);\n                },\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 23\n              }, this), ' ', hasPermission(localStorage.getItem('token'), permissionKeys.delete) && /*#__PURE__*/_jsxDEV(Button, {\n                color: \"red\",\n                onClick: () => onDelete(item.id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '10px',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        color: \"gray\",\n        onClick: () => handleChangePage('prev'),\n        disabled: currentPage === 1,\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          padding: '0 10px'\n        },\n        children: [\"Page \", currentPage, \" of \", totalPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"gray\",\n        onClick: () => handleChangePage('next'),\n        disabled: currentPage === totalPages,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 5\n  }, this);\n}\n_s(DynamicTable, \"KPSbB2dlIL4q8a74wm5GkXlAL8k=\");\n_c = DynamicTable;\nvar _c;\n$RefreshReg$(_c, \"DynamicTable\");","map":{"version":3,"names":["React","useState","Button","hasPermission","jsxDEV","_jsxDEV","Fragment","_Fragment","DynamicTable","items","fields","onUpdate","onDelete","permissionKeys","_s","editId","setEditId","form","setForm","currentPage","setCurrentPage","itemsPerPage","totalPages","Math","ceil","length","paginatedItems","slice","handleChangePage","direction","children","border","cellPadding","style","width","borderCollapse","background","color","map","f","label","name","fileName","_jsxFileName","lineNumber","columnNumber","item","idx","height","_form$f$name","id","type","value","onChange","e","target","onClick","localStorage","getItem","delete","marginTop","textAlign","disabled","padding","_c","$RefreshReg$"],"sources":["D:/Intern/my_app/src/pageManagement/DynamicTable.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Button from './DynamicButton';\r\nimport { hasPermission } from './utils/hasPermission';\r\n\r\nexport default function DynamicTable({ items, fields, onUpdate, onDelete, permissionKeys }) {\r\n  const [editId, setEditId] = useState(null);\r\n  const [form, setForm] = useState({});\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 5;\r\n\r\n  const totalPages = Math.ceil(items.length / itemsPerPage);\r\n  const paginatedItems = items.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\r\n\r\n  const handleChangePage = (direction) => {\r\n    if (direction === 'prev' && currentPage > 1) setCurrentPage(currentPage - 1);\r\n    else if (direction === 'next' && currentPage < totalPages) setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <table border=\"1\" cellPadding=\"8\" style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n        <thead style={{ background: '#000', color: '#fff' }}>\r\n          <tr>\r\n            {fields.map((f) => (\r\n              <th key={f.name}>{f.label}</th>\r\n            ))}\r\n            <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {paginatedItems.map((item, idx) => (\r\n            <tr key={item.id} style={{ background: idx % 2 === 0 ? '#f9f9f9' : '#e0e0e0', height: '50px' }}>\r\n              {fields.map((f) => (\r\n                <td key={f.name}>\r\n                  {editId === item.id ? (\r\n                    <input\r\n                      type={f.type}\r\n                      value={form[f.name] ?? item[f.name]}\r\n                      onChange={(e) => setForm({ ...form, [f.name]: e.target.value })}\r\n                    />\r\n                  ) : (\r\n                    item[f.name]\r\n                  )}\r\n                </td>\r\n              ))}\r\n              <td>\r\n                {editId === item.id ? (\r\n                  <>\r\n                    <Button color=\"green\" onClick={() => { onUpdate(item.id, form); setEditId(null); }}>Save</Button>{' '}\r\n                    <Button color=\"gray\" onClick={() => setEditId(null)}>Cancel</Button>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    \r\n                      <Button color=\"blue\" onClick={() => { setEditId(item.id); setForm(item); }}>Edit</Button>\r\n                    {' '}\r\n                    {hasPermission(localStorage.getItem('token'), permissionKeys.delete) && (\r\n                      <Button color=\"red\" onClick={() => onDelete(item.id)}>Delete</Button>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {/* Pagination controls */}\r\n      <div style={{ marginTop: '10px', textAlign: 'center' }}>\r\n        <Button color=\"gray\" onClick={() => handleChangePage('prev')} disabled={currentPage === 1}>\r\n          Previous\r\n        </Button>{' '}\r\n        <span style={{ padding: '0 10px' }}>\r\n          Page {currentPage} of {totalPages}\r\n        </span>\r\n        <Button color=\"gray\" onClick={() => handleChangePage('next')} disabled={currentPage === totalPages}>\r\n          Next\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}