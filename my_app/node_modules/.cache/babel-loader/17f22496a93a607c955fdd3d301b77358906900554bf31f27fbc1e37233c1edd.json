{"ast":null,"code":"export function hasPermission(token, permissionKey) {\n  if (!token) return false;\n  try {\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    return payload.permissions && payload.permissions.includes(permissionKey);\n  } catch (e) {\n    return false;\n  }\n}\nexport async function fetchWithAuth(url, token, method = 'GET', body = null) {\n  const res = await fetch(url, {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: body ? JSON.stringify(body) : null\n  });\n  if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\n  return res.json();\n}","map":{"version":3,"names":["hasPermission","token","permissionKey","payload","JSON","parse","atob","split","permissions","includes","e","fetchWithAuth","url","method","body","res","fetch","headers","Authorization","stringify","ok","Error","status","json"],"sources":["D:/Intern/my_app/src/pageManagement/utils/hasPermission.js"],"sourcesContent":["export function hasPermission(token, permissionKey) {\r\n    if (!token) return false;\r\n    try {\r\n      const payload = JSON.parse(atob(token.split('.')[1]));\r\n      return payload.permissions && payload.permissions.includes(permissionKey);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }\r\n  \r\n  export async function fetchWithAuth(url, token, method = 'GET', body = null) {\r\n    const res = await fetch(url, {\r\n      method,\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: body ? JSON.stringify(body) : null,\r\n    });\r\n    if (!res.ok) throw new Error(`HTTP error! status: ${res.status}`);\r\n    return res.json();\r\n  }\r\n  "],"mappings":"AAAA,OAAO,SAASA,aAAaA,CAACC,KAAK,EAAEC,aAAa,EAAE;EAChD,IAAI,CAACD,KAAK,EAAE,OAAO,KAAK;EACxB,IAAI;IACF,MAAME,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACL,KAAK,CAACM,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,OAAOJ,OAAO,CAACK,WAAW,IAAIL,OAAO,CAACK,WAAW,CAACC,QAAQ,CAACP,aAAa,CAAC;EAC3E,CAAC,CAAC,OAAOQ,CAAC,EAAE;IACV,OAAO,KAAK;EACd;AACF;AAEA,OAAO,eAAeC,aAAaA,CAACC,GAAG,EAAEX,KAAK,EAAEY,MAAM,GAAG,KAAK,EAAEC,IAAI,GAAG,IAAI,EAAE;EAC3E,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACJ,GAAG,EAAE;IAC3BC,MAAM;IACNI,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,UAAUjB,KAAK;IAChC,CAAC;IACDa,IAAI,EAAEA,IAAI,GAAGV,IAAI,CAACe,SAAS,CAACL,IAAI,CAAC,GAAG;EACtC,CAAC,CAAC;EACF,IAAI,CAACC,GAAG,CAACK,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuBN,GAAG,CAACO,MAAM,EAAE,CAAC;EACjE,OAAOP,GAAG,CAACQ,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}