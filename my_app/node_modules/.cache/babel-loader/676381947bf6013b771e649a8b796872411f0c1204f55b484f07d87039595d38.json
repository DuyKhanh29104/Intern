{"ast":null,"code":"var _jsxFileName = \"D:\\\\Intern\\\\my_app\\\\src\\\\pageManagement\\\\PageRenderer.jsx\",\n  _s = $RefreshSig$();\nimport DynamicTable from './components/DynamicTable';\nimport DynamicForm from './components/DynamicForm';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PageRenderer({\n  config\n}) {\n  _s();\n  const [data, setData] = useState([]);\n  const [form, setForm] = useState({});\n  const [editingId, setEditingId] = useState(null);\n  const [reload, setReload] = useState(false);\n  const fetchData = async () => {\n    const res = await fetch(`${config.apiBase}`);\n    if (!res.ok) throw new Error('HTTP error! status: ' + res.status);\n    const json = await res.json();\n    setData(json);\n  };\n  useEffect(() => {\n    fetchData();\n  }, [reload]);\n  const handleSubmit = async () => {\n    const method = editingId ? 'PUT' : 'POST';\n    const url = editingId ? `${config.apiBase}/${editingId}` : config.apiBase;\n    await fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(form)\n    });\n    setEditingId(null);\n    setForm({});\n    setReload(!reload);\n  };\n  const handleDelete = async id => {\n    await fetch(`${config.apiBase}/${id}`, {\n      method: 'DELETE'\n    });\n    setReload(!reload);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(DynamicForm, {\n      fields: config.fields,\n      form: form,\n      setForm: setForm,\n      onSubmit: handleSubmit,\n      editingId: editingId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DynamicTable, {\n      fields: config.fields,\n      data: data,\n      setForm: setForm,\n      setEditingId: setEditingId,\n      handleDelete: handleDelete,\n      permissions: config.permissions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(PageRenderer, \"WDWPD5Ojaq9BtYPvaAevdXPzM1U=\");\n_c = PageRenderer;\nvar _c;\n$RefreshReg$(_c, \"PageRenderer\");","map":{"version":3,"names":["DynamicTable","DynamicForm","useEffect","useState","jsxDEV","_jsxDEV","PageRenderer","config","_s","data","setData","form","setForm","editingId","setEditingId","reload","setReload","fetchData","res","fetch","apiBase","ok","Error","status","json","handleSubmit","method","url","headers","body","JSON","stringify","handleDelete","id","children","fields","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","permissions","_c","$RefreshReg$"],"sources":["D:/Intern/my_app/src/pageManagement/PageRenderer.jsx"],"sourcesContent":["import DynamicTable from './components/DynamicTable';\r\nimport DynamicForm from './components/DynamicForm';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function PageRenderer({ config }) {\r\n  const [data, setData] = useState([]);\r\n  const [form, setForm] = useState({});\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  const fetchData = async () => {\r\n    const res = await fetch(`${config.apiBase}`);\r\n    if (!res.ok) throw new Error('HTTP error! status: ' + res.status);\r\n    const json = await res.json();\r\n    setData(json);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [reload]);\r\n\r\n  const handleSubmit = async () => {\r\n    const method = editingId ? 'PUT' : 'POST';\r\n    const url = editingId ? `${config.apiBase}/${editingId}` : config.apiBase;\r\n    await fetch(url, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(form)\r\n    });\r\n    setEditingId(null);\r\n    setForm({});\r\n    setReload(!reload);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    await fetch(`${config.apiBase}/${id}`, { method: 'DELETE' });\r\n    setReload(!reload);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <DynamicForm\r\n        fields={config.fields}\r\n        form={form}\r\n        setForm={setForm}\r\n        onSubmit={handleSubmit}\r\n        editingId={editingId}\r\n      />\r\n      <DynamicTable\r\n        fields={config.fields}\r\n        data={data}\r\n        setForm={setForm}\r\n        setEditingId={setEditingId}\r\n        handleDelete={handleDelete}\r\n        permissions={config.permissions}\r\n      />\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}